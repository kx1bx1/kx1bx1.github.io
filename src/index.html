<!doctype html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="A curated gallery of custom extensions for TurboWarp. Discover utilities, hardware support, media tools, and more."
    />
    <title>TurboWarp Extension Gallery</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      // eslint-disable-next-line no-undef
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              turbowarp: '#ff4c4c',
              darkbg: '#0f0f13',
              cardbg: '#1b1b23',
              lightbg: '#f8fafc',
              lightcard: '#ffffff',
              border: '#2a2a35',
              lightborder: '#e2e8f0',
            },
            fontFamily: {
              sans: ['Inter', 'system-ui', 'sans-serif'],
            },
            animation: {
              'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            },
          },
        },
      };
    </script>

    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="style.css" />
  </head>
  <body class="min-h-screen flex flex-col">
    <header
      class="border-b border-lightborder dark:border-border bg-white/80 dark:bg-cardbg/50 backdrop-blur-md sticky top-0 z-40 transition-colors"
    >
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div
            class="w-8 h-8 bg-turbowarp rounded-lg flex items-center justify-center text-white font-bold text-xl shadow-lg shadow-red-500/20"
          >
            <i class="ph ph-lightning"></i>
          </div>
          <h1 class="text-xl font-bold tracking-tight text-slate-800 dark:text-white">
            TW Extensions
          </h1>
        </div>
        <div class="flex items-center gap-4">
          <button
            id="themeToggle"
            class="p-2 rounded-lg text-slate-500 hover:bg-slate-100 dark:text-gray-400 dark:hover:bg-white/10 transition-colors"
            aria-label="Toggle Dark Mode"
          >
            <i class="ph ph-moon text-xl dark:hidden"></i>
            <i class="ph ph-sun text-xl hidden dark:block"></i>
          </button>
          <div class="h-6 w-px bg-slate-200 dark:bg-gray-700"></div>
          <a
            href="https://turbowarp.org"
            target="_blank"
            rel="noopener noreferrer"
            class="text-sm font-medium text-slate-600 dark:text-gray-400 hover:text-turbowarp dark:hover:text-white transition-colors"
            >TurboWarp</a
          >
          <a
            href="https://github.com/kx1bx1/"
            target="_blank"
            rel="noopener noreferrer"
            class="text-sm font-medium text-slate-600 dark:text-gray-400 hover:text-turbowarp dark:hover:text-white transition-colors"
            >GitHub</a
          >
        </div>
      </div>
    </header>

    <main class="flex-grow max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 w-full">
      <div class="text-center mb-12">
        <h2 class="text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-4 bg-clip-text">
          Supercharge your Scratch projects
        </h2>
        <p class="text-lg text-slate-600 dark:text-gray-300 max-w-2xl mx-auto mb-8">
          A collection of custom, high-performance extensions for TurboWarp.
        </p>

        <div class="max-w-4xl mx-auto flex flex-col md:flex-row gap-4 relative z-10">
          <div class="relative flex-grow group">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <i
                class="ph ph-magnifying-glass text-slate-400 dark:text-gray-500 text-lg group-focus-within:text-turbowarp transition-colors"
              ></i>
            </div>
            <input
              type="text"
              id="searchInput"
              placeholder="Search extensions..."
              aria-label="Search extensions"
              class="block w-full pl-10 pr-24 py-3 bg-white dark:bg-cardbg border border-slate-200 dark:border-border rounded-xl text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-turbowarp focus:border-transparent transition-all shadow-sm"
            />
            <div class="absolute inset-y-0 right-10 flex items-center pointer-events-none">
              <span
                class="kbd-shortcut bg-slate-100 dark:bg-darkbg border-slate-300 dark:border-border text-slate-400 dark:text-gray-500 hidden md:block"
                aria-hidden="true"
                >/</span
              >
            </div>
            <button
              id="searchClearBtn"
              class="hidden absolute inset-y-0 right-0 px-3 flex items-center text-slate-400 dark:text-gray-500 hover:text-turbowarp transition-colors focus:outline-none"
              aria-label="Clear search"
            >
              <i class="ph-bold ph-x text-lg"></i>
            </button>
          </div>

          <div class="relative w-full md:w-48">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <i class="ph ph-sort-ascending text-slate-400 dark:text-gray-500 text-lg"></i>
            </div>
            <select
              id="sortSelect"
              aria-label="Sort extensions"
              class="block w-full pl-10 pr-8 py-3 bg-white dark:bg-cardbg border border-slate-200 dark:border-border rounded-xl text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-turbowarp focus:border-transparent transition-all shadow-sm appearance-none cursor-pointer"
            >
              <option value="name">Name (A-Z)</option>
              <option value="author">Author (A-Z)</option>
              <option value="newest">New First</option>
              <option value="random">Random</option>
            </select>
            <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
              <i class="ph ph-caret-down text-slate-400 dark:text-gray-500"></i>
            </div>
          </div>
        </div>

        <div
          class="flex flex-wrap justify-center gap-2 mt-6"
          id="categoryContainer"
          role="tablist"
          aria-label="Extension categories"
        ></div>
      </div>

      <div id="extensionGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>

      <div id="noResults" class="hidden text-center py-12" aria-live="polite">
        <div
          class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-slate-100 dark:bg-cardbg mb-4"
        >
          <i class="ph ph-ghost text-3xl text-slate-400 dark:text-gray-600"></i>
        </div>
        <h3 class="text-lg font-medium text-slate-900 dark:text-white mb-1">No extensions found</h3>
        <p class="text-slate-500 dark:text-gray-500">Try adjusting your search or filters.</p>
        <button
          id="resetFiltersBtn"
          class="mt-4 text-turbowarp hover:underline text-sm font-medium"
        >
          Clear all filters
        </button>
      </div>
    </main>

    <footer
      class="border-t border-slate-200 dark:border-border bg-white dark:bg-cardbg py-8 mt-12 transition-colors"
    >
      <div class="max-w-7xl mx-auto px-4 text-center">
        <p class="text-slate-500 dark:text-gray-500 text-sm">
          &copy; 2024 TurboWarp Extension Gallery. Not affiliated with Scratch or the Scratch Team.
        </p>
        <p class="text-slate-400 dark:text-gray-600 text-xs mt-2">
          Created with <i class="ph ph-heart-fill text-turbowarp mx-1"></i> for the community.
        </p>
      </div>
    </footer>

    <div
      id="detailModal"
      class="modal-backdrop fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm"
      aria-hidden="true"
      role="dialog"
      aria-modal="true"
      aria-labelledby="modalTitle"
    >
      <div
        class="modal-content bg-white dark:bg-[#1a1a24] w-full max-w-2xl max-h-[90vh] rounded-2xl shadow-2xl overflow-hidden flex flex-col relative border border-slate-200 dark:border-border"
      >
        <div class="p-6 border-b border-slate-100 dark:border-border flex items-start gap-4">
          <div
            id="modalIconContainer"
            class="w-16 h-16 rounded-xl bg-slate-100 dark:bg-darkbg border border-slate-200 dark:border-border flex-shrink-0 flex items-center justify-center text-3xl overflow-hidden"
          ></div>
          <div class="flex-grow">
            <div class="flex items-start justify-between">
              <div>
                <h2
                  id="modalTitle"
                  class="text-2xl font-bold text-slate-900 dark:text-white leading-tight"
                ></h2>
                <div class="flex items-center gap-2 mt-1 text-sm text-slate-500 dark:text-gray-400">
                  <span
                    >by
                    <button
                      id="modalAuthor"
                      class="hover:text-turbowarp hover:underline font-medium transition-colors text-left"
                      aria-label="Filter by author"
                    ></button
                  ></span>
                  <span>â€¢</span>
                  <span
                    id="modalVersion"
                    class="font-mono bg-slate-100 dark:bg-darkbg px-1.5 py-0.5 rounded text-xs border border-slate-200 dark:border-border"
                  ></span>
                </div>
              </div>
              <button
                id="modalCloseBtn"
                class="p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-white/10 text-slate-500 dark:text-gray-400 transition-colors"
                aria-label="Close modal"
              >
                <i class="ph ph-x text-xl"></i>
              </button>
            </div>
            <div id="modalBadges" class="flex flex-wrap gap-2 mt-3"></div>
          </div>
        </div>

        <div
          class="p-6 overflow-y-auto custom-scrollbar flex-grow"
          id="modalDescriptionContainer"
          tabindex="0"
        >
          <div
            id="modalDescription"
            class="prose dark:prose-invert max-w-none text-slate-600 dark:text-gray-300 leading-relaxed whitespace-pre-line"
          ></div>
        </div>

        <div
          class="p-6 bg-slate-50 dark:bg-cardbg/50 border-t border-slate-100 dark:border-border flex flex-col sm:flex-row gap-3"
        >
          <a
            id="modalDownloadBtn"
            href="#"
            class="bg-white dark:bg-white/5 text-slate-700 dark:text-gray-200 py-3 px-4 rounded-xl text-sm font-bold shadow-sm hover:bg-slate-50 dark:hover:bg-white/10 border border-slate-200 dark:border-transparent transition-all flex items-center justify-center gap-2 transform active:scale-[0.98]"
          >
            <i class="ph ph-download-simple text-lg"></i>
            <span>Download</span>
          </a>
          <button
            id="modalCopyBtn"
            class="flex-1 bg-white dark:bg-white text-slate-900 dark:text-black py-3 px-4 rounded-xl text-sm font-bold shadow-sm hover:bg-slate-50 dark:hover:bg-gray-200 border border-slate-200 dark:border-transparent transition-all flex items-center justify-center gap-2 transform active:scale-[0.98]"
          >
            <i class="ph ph-copy text-lg"></i> <span>Copy URL</span>
          </button>
          <a
            id="modalOpenBtn"
            href="#"
            target="_blank"
            rel="noopener noreferrer"
            class="flex-[2] bg-turbowarp text-white py-3 px-4 rounded-xl text-sm font-bold shadow-lg shadow-red-500/20 hover:bg-red-500 hover:shadow-red-500/30 transition-all flex items-center justify-center gap-2 transform active:scale-[0.98]"
          >
            <span>Open in TurboWarp</span>
            <i class="ph ph-arrow-square-out text-lg"></i>
          </a>
        </div>
      </div>
    </div>

    <div
      id="toastContainer"
      role="status"
      aria-live="polite"
      class="fixed bottom-6 left-1/2 transform -translate-x-1/2 z-[60] pointer-events-none flex flex-col items-center gap-2"
    ></div>

    <script src="script.js"></script>
  </body>
</html>
